(()=>{var e,t={225:(e,t,o)=>{"use strict";o(85);var n=o(565),i=o(10),r=o(709);const l=o(764).Buffer,c=document.getElementById("signinBtn"),s=document.getElementById("signoutBtn"),a=new r.G(document.querySelector(".mdc-snackbar")),d=document.getElementById("redirectBtn");document.getElementById("msg");let g,u="";const f=window.location.search,p=new URLSearchParams(f).get("pubKey64");(async()=>{const e={};if(p&&""!==p){const t=new l(p,"base64").toString();e.identity=n.RM.fromJSON(t),console.log(t),console.log(e.identity.getPublicKey())}g=await i.L.create(e);const t=()=>{const e=g.getIdentity(),t=e.getPrincipal();if(e instanceof n.j){c.disabled=!0,e.getDelegation().toJSON()?.delegations[0]?.delegation?.pubkey,console.log(e.getDelegation().toJSON());const o=JSON.stringify(e.getDelegation().toJSON());console.log("logged in");const n=new l(o).toString("base64");u="exp://192.168.68.117:19000/--/Photos?principal="+t+"&delegations64="+n,console.log(u),a.open(),a.timeoutMs=-1,setTimeout((()=>{window.location=u}),20)}else console.log("not logged in"),s.disabled=!0};t(),d.onclick=async()=>{setTimeout((()=>{window.location=u}),10)},c.onclick=async()=>{g.login({identityProvider:"https://identity.ic0.app/",maxTimeToLive:1e15,onSuccess:t})},s.onclick=async()=>{g.logout(),s.disabled=!0,c.disabled=!1,t()}})()},24:()=>{}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var r=o[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,n.amdO={},e=[],n.O=(t,o,i,r)=>{if(!o){var l=1/0;for(d=0;d<e.length;d++){for(var[o,i,r]=e[d],c=!0,s=0;s<o.length;s++)(!1&r||l>=r)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(c=!1,r<l&&(l=r));if(c){e.splice(d--,1);var a=i();void 0!==a&&(t=a)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,i,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={296:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,r,[l,c,s]=o,a=0;for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(s)var d=s(n);for(t&&t(o);a<l.length;a++)r=l[a],n.o(e,r)&&e[r]&&e[r][0](),e[l[a]]=0;return n.O(d)},o=self.webpackChunkWeb_Internet_Providers=self.webpackChunkWeb_Internet_Providers||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[706],(()=>n(225)));i=n.O(i)})();
//# sourceMappingURL=bundle.js.map